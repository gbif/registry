<h4>Dataset overview</h4>
<button class="btn btn-small btn-primary pull-right" type="button" ng-click="generateCrawlerWarningMsg(dataset.publishingOrganization.endorsementApproved)" data-target="#crawlConfirm" data-toggle="modal">Crawl now</button>
<p class="muted">This information appears on the dataset profile, organization pages, search results, and beyond.</p>
<hr/>
<p ng-show="dataset.deleted!=null">
  <span class="label label-important">Important</span> <span class="text-error">This dataset was deleted {{dataset.deleted | timeAgo}} by {{dataset.modifiedBy}}.</span><br/>
  <small class="muted">{{dataset.deleted}}</small>
</p>

<dl class="dl-horizontal spaced-list">
  <dt>Title</dt>
  <dd>{{dataset.title}}</dd>

  <dt>Dataset type</dt>
  <dd>{{dataset.type}}</dd>
  <dt>Dataset sub-type</dt>
  <dd>{{dataset.subType}}</dd>
  <dt>Is external?</dt>
  <dd>{{dataset.external}}</dd>
  <dt>Is locked for auto updating</dt>
  <dd>{{dataset.lockedForAutoUpdate}}</dd>

  <dt>Alias</dt>
  <dd>{{dataset.alias}}</dd>
  <dt>Abbreviation</dt>
  <dd>{{dataset.abbreviation}}</dd>
  <dt>Description</dt>
  <dd>{{dataset.description}}</dd>

  <dt>Publishing organization</dt>
  <dd><a href="" ng-click="redirectTo('organization', dataset.publishingOrganizationKey)">{{dataset.publishingOrganization.title}}</a></dd>
  <dt>Serving installation</dt>
  <dd><a href="" ng-click="redirectTo('installation', dataset.installationKey)">{{dataset.installation.title}} <span class="muted"><small>{{installation.type}}</small></span></a></dd>
  <dt>Parent dataset</dt>
  <dd><a href="" ng-click="redirectTo('dataset', dataset.parentDatasetKey)">{{dataset.parentDataset.title}}</a></dd>
  <dt>Duplicate of dataset</dt>
  <dd><a href="" ng-click="redirectTo('dataset', dataset.duplicateOfDatasetKey)">{{dataset.duplicateOfDataset.title}}</a></dd>

  <dt>Citation</dt>
  <dd>{{dataset.citation.text}}</dd>
  <dt>Citation identifier</dt>
  <dd>{{dataset.citationIdentifier}}</dd>
  <dt>Rights</dt>
  <dd>{{dataset.rights}}</dd>

  <dt>Homepage</dt>
  <dd><a href="{{dataset.homepage}}" target="_blank">{{dataset.homepage}}</a></dd>
  <dt>Logo url</dt>
  <dd>{{dataset.logoUrl}}</dd>
  <dt>Language</dt>
  <dd>{{dataset.language}}</dd>

  <dt>Created</dt>
  <dd>{{dataset.created | timeAgo}} <br/><small class="muted">{{dataset.created}}</small></dd>
  <dt>Created by</dt>
  <dd>{{dataset.createdBy}}</dd>
  <dt>Modified</dt>
  <dd>{{dataset.modified | timeAgo}} <br/><small class="muted">{{dataset.modified}}</small></dd>
  <dt>Modified by</dt>
  <dd>{{dataset.modifiedBy}}</dd>
</dl>
<div class="form-actions">
  <small><a href="" ng-click="transitionTo('edit')">Edit these details</a></small>
</div>
<div id="crawlConfirm" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="title" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="title">Confirm?</h3>
  </div>
  <div class="modal-body">
    <p><span class="label label-important">Important</span> <span class="text-error">{{crawlWarningMsg}}</span></p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
    <button class="btn btn-primary btn-danger" data-dismiss="modal" ng-click="crawl(dataset)">Yes, crawl it!</button>
  </div>
</div>

<div class="form-actions" ng-show="dataset.deleted!=null">
    <small><a href="" data-target="#restoreConfirm" data-toggle="modal">Restore this dataset</a></small>
      <p><small class="muted">Will make this eligible for endorsements etc.</small></p>
    </div>
    <div id="restoreConfirm" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="title" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="title">Restore?</h3>
      </div>
      <div class="modal-body">
        <p><span class="label label-important">Important</span> <span class="text-error">Restoring a previously deleted entity will likely trigger significant processing</span></p>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        <button class="btn btn-primary btn-danger" data-dismiss="modal" ng-click="restore(dataset)">Yes, restore it!</button>
      </div>
    </div>
</div>
